(function () {

    var googleMapUrls = [
        "google.com/maps",
        "google.ac/maps",
        "google.ad/maps",
        "google.ae/maps",
        "google.af/maps",
        "google.ag/maps",
        "google.ai/maps",
        "google.al/maps",
        "google.am/maps",
        "google.ao/maps",
        "google.ar/maps",
        "google.as/maps",
        "google.at/maps",
        "google.au/maps",
        "google.az/maps",
        "google.ba/maps",
        "google.bd/maps",
        "google.be/maps",
        "google.bf/maps",
        "google.bg/maps",
        "google.bh/maps",
        "google.bi/maps",
        "google.bj/maps",
        "google.bn/maps",
        "google.bo/maps",
        "google.br/maps",
        "google.bs/maps",
        "google.bt/maps",
        "google.bw/maps",
        "google.by/maps",
        "google.bz/maps",
        "google.ca/maps",
        "google.kh/maps",
        "google.cc/maps",
        "google.cd/maps",
        "google.cf/maps",
        "google.cat/maps",
        "google.cg/maps",
        "google.ch/maps",
        "google.ci/maps",
        "google.ck/maps",
        "google.cl/maps",
        "google.cm/maps",
        "google.cn/maps",
        "google.co/maps",
        "google.cr/maps",
        "google.cu/maps",
        "google.cv/maps",
        "google.cy/maps",
        "google.cz/maps",
        "google.de/maps",
        "google.dj/maps",
        "google.dk/maps",
        "google.dm/maps",
        "google.do/maps",
        "google.dz/maps",
        "google.ec/maps",
        "google.ee/maps",
        "google.eg/maps",
        "google.es/maps",
        "google.et/maps",
        "google.fi/maps",
        "google.fj/maps",
        "google.fm/maps",
        "google.fr/maps",
        "google.ga/maps",
        "google.ge/maps",
        "google.gf/maps",
        "google.gg/maps",
        "google.gh/maps",
        "google.gi/maps",
        "google.gl/maps",
        "google.gm/maps",
        "google.gp/maps",
        "google.gr/maps",
        "google.gt/maps",
        "google.gy/maps",
        "google.hk/maps",
        "google.hn/maps",
        "google.hr/maps",
        "google.ht/maps",
        "google.hu/maps",
        "google.id/maps",
        "google.iq/maps",
        "google.ie/maps",
        "google.il/maps",
        "google.im/maps",
        "google.in/maps",
        "google.io/maps",
        "google.is/maps",
        "google.it/maps",
        "google.je/maps",
        "google.jm/maps",
        "google.jo/maps",
        "google.jp/maps",
        "google.ke/maps",
        "google.ki/maps",
        "google.kg/maps",
        "google.kr/maps",
        "google.kw/maps",
        "google.kz/maps",
        "google.la/maps",
        "google.lb/maps",
        "google.lc/maps",
        "google.li/maps",
        "google.lk/maps",
        "google.ls/maps",
        "google.lt/maps",
        "google.lu/maps",
        "google.lv/maps",
        "google.ly/maps",
        "google.ma/maps",
        "google.md/maps",
        "google.me/maps",
        "google.mg/maps",
        "google.mk/maps",
        "google.ml/maps",
        "google.mm/maps",
        "google.mn/maps",
        "google.ms/maps",
        "google.mt/maps",
        "google.mu/maps",
        "google.mv/maps",
        "google.mw/maps",
        "google.mx/maps",
        "google.my/maps",
        "google.mz/maps",
        "google.na/maps",
        "google.ne/maps",
        "google.nf/maps",
        "google.ng/maps",
        "google.ni/maps",
        "google.nl/maps",
        "google.no/maps",
        "google.np/maps",
        "google.nr/maps",
        "google.nu/maps",
        "google.nz/maps",
        "google.om/maps",
        "google.pk/maps",
        "google.pa/maps",
        "google.pe/maps",
        "google.ph/maps",
        "google.pl/maps",
        "google.pg/maps",
        "google.pn/maps",
        "google.pr/maps",
        "google.ps/maps",
        "google.pt/maps",
        "google.py/maps",
        "google.qa/maps",
        "google.ro/maps",
        "google.rs/maps",
        "google.ru/maps",
        "google.rw/maps",
        "google.sa/maps",
        "google.sb/maps",
        "google.sc/maps",
        "google.se/maps",
        "google.sg/maps",
        "google.sh/maps",
        "google.si/maps",
        "google.sk/maps",
        "google.sl/maps",
        "google.sn/maps",
        "google.sm/maps",
        "google.so/maps",
        "google.st/maps",
        "google.sr/maps",
        "google.sv/maps",
        "google.td/maps",
        "google.tg/maps",
        "google.th/maps",
        "google.tj/maps",
        "google.tk/maps",
        "google.tl/maps",
        "google.tm/maps",
        "google.to/maps",
        "google.tn/maps",
        "google.tr/maps",
        "google.tt/maps",
        "google.tw/maps",
        "google.tz/maps",
        "google.ua/maps",
        "google.ug/maps",
        "google.uk/maps",
        "google.us/maps",
        "google.uy/maps",
        "google.uz/maps",
        "google.vc/maps",
        "google.ve/maps",
        "google.vg/maps",
        "google.vi/maps",
        "google.vn/maps",
        "google.vu/maps",
        "google.ws/maps",
        "google.za/maps",
        "google.zm/maps",
        "google.zw/maps"
    ];

    var isGoogleMaps = function (tab) {
        for (googleMapUrl in googleMapUrls) {
            if (tab.url.includes(googleMapUrl)) {
                return true;
            }
        }
        return false;
    };

    chrome.action.onClicked.addListener(function (tab) {
        if (isGoogleMaps(tab)) {
            chrome.scripting.executeScript({
              target: {tabId: tab.id},
              files: ['js/content.js']
            });
        }
    });

})();